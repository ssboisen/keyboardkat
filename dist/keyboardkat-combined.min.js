!function(){!function(e,n){function t(e,n,t){return e.addEventListener?void e.addEventListener(n,t,!1):void e.attachEvent("on"+n,t)}function r(e){if("keypress"==e.type){var n=String.fromCharCode(e.which);return e.shiftKey||(n=n.toLowerCase()),n}return K[e.which]?K[e.which]:M[e.which]?M[e.which]:String.fromCharCode(e.which).toLowerCase()}function o(e,n){return e.sort().join(",")===n.sort().join(",")}function i(e){e=e||{};var n,t=!1;for(n in A)e[n]?t=!0:A[n]=0;t||(N=!1)}function a(e,n,t,r,i,a){var u,c,f=[],l=t.type;if(!j[e])return[];for("keyup"==l&&d(e)&&(n=[e]),u=0;u<j[e].length;++u)if(c=j[e][u],(r||!c.seq||A[c.seq]==c.level)&&l==c.action&&("keypress"==l&&!t.metaKey&&!t.ctrlKey||o(n,c.modifiers))){var s=!r&&c.combo==i,p=r&&c.seq==r&&c.level==a;(s||p)&&j[e].splice(u,1),f.push(c)}return f}function u(e){var n=[];return e.shiftKey&&n.push("shift"),e.altKey&&n.push("alt"),e.ctrlKey&&n.push("ctrl"),e.metaKey&&n.push("meta"),n}function c(e){return e.preventDefault?void e.preventDefault():void(e.returnValue=!1)}function f(e){return e.stopPropagation?void e.stopPropagation():void(e.cancelBubble=!0)}function l(e,n,t,r){x.stopCallback(n,n.target||n.srcElement,t,r)||e(n,t)===!1&&(c(n),f(n))}function s(e,n,t){var r,o=a(e,n,t),u={},c=0,f=!1;for(r=0;r<o.length;++r)o[r].seq&&(c=Math.max(c,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=c)continue;f=!0,u[o[r].seq]=1,l(o[r].callback,t,o[r].combo,o[r].seq)}else f||l(o[r].callback,t,o[r].combo);var s="keypress"==t.type&&L;t.type!=N||d(e)||s||i(u),L=f&&"keydown"==t.type}function p(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=r(e);if(n)return"keyup"==e.type&&F===n?void(F=!1):void x.handleKey(n,u(e),e)}function d(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function h(){clearTimeout(E),E=setTimeout(i,1e3)}function y(){if(!C){C={};for(var e in K)e>95&&112>e||K.hasOwnProperty(e)&&(C[K[e]]=e)}return C}function v(e,n,t){return t||(t=y()[e]?"keydown":"keypress"),"keypress"==t&&n.length&&(t="keydown"),t}function b(e,n,t,o){function a(n){return function(){N=n,++A[e],h()}}function u(n){l(t,n,e),"keyup"!==o&&(F=r(n)),setTimeout(i,10)}A[e]=0;for(var c=0;c<n.length;++c){var f=c+1===n.length,s=f?u:a(o||k(n[c+1]).action);g(n[c],s,o,e,c)}}function m(e){return"+"===e?["+"]:e.split("+")}function k(e,n){var t,r,o,i=[];for(t=m(e),o=0;o<t.length;++o)r=t[o],P[r]&&(r=P[r]),n&&"keypress"!=n&&q[r]&&(r=q[r],i.push("shift")),d(r)&&i.push(r);return n=v(r,i,n),{key:r,modifiers:i,action:n}}function g(e,n,t,r,o){T[e+":"+t]=n,e=e.replace(/\s+/g," ");var i,u=e.split(" ");return u.length>1?void b(e,u,n,t):(i=k(e,t),j[i.key]=j[i.key]||[],a(i.key,i.modifiers,{type:i.action},r,e,o),void j[i.key][r?"unshift":"push"]({callback:n,modifiers:i.modifiers,action:i.action,seq:r,level:o,combo:e}))}function w(e,n,t){for(var r=0;r<e.length;++r)g(e[r],n,t)}for(var C,E,K={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},M={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},q={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},P={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},j={},T={},A={},F=!1,L=!1,N=!1,G=1;20>G;++G)K[111+G]="f"+G;for(G=0;9>=G;++G)K[G+96]=G;t(n,"keypress",p),t(n,"keydown",p),t(n,"keyup",p);var x={bind:function(e,n,t){return e=e instanceof Array?e:[e],w(e,n,t),this},unbind:function(e,n){return x.bind(e,function(){},n)},trigger:function(e,n){return T[e+":"+n]&&T[e+":"+n]({},e),this},reset:function(){return j={},T={},this},stopCallback:function(e,n){return(" "+n.className+" ").indexOf(" mousetrap ")>-1?!1:"INPUT"==n.tagName||"SELECT"==n.tagName||"TEXTAREA"==n.tagName||n.isContentEditable},handleKey:s};e.Mousetrap=x,"function"==typeof define&&define.amd&&define(x)}(window,document),Mousetrap=function(e){var n={},t=e.stopCallback;return e.stopCallback=function(e,r,o,i){return n[o]||n[i]?!1:t(e,r,o)},e.bindGlobal=function(t,r,o){if(e.bind(t,r,o),t instanceof Array)for(var i=0;i<t.length;i++)n[t[i]]=!0;else n[t]=!0},e}(Mousetrap),function(e,n,t){"undefined"!=typeof t.module?t.module.exports=n(t.Mousetrap):"function"==typeof t.define&&"object"==typeof t.define.amd?t.define(e,["Mousetrap"],n):t[e]=n(t.Mousetrap),delete t.Mousetrap}("KeyboardKat",function(e){function n(e){return"keypress"===e||"keydown"===e||"keyup"===e}function t(e,n,t){return[e,n,t].join(":")}function r(r,u){return function(c,f,l,s){if(!c||0===c.length)throw new Error(u+"must be called with keys");if(c=c instanceof Array?c:[c],l instanceof Function&&n(f)?(s=l,l=f,f=void 0):l instanceof Function?(s=l,l=void 0):f instanceof Function&&(s=f,f=void 0),!(s instanceof Function))throw new Error("callback must be an instance of Function");f||(f="all");var p=c.join(","),d=t(p,f,a++);return o[p]=o[p]||[],o[p].push({callback:s,flap:f,id:d}),r.call(e,c,function(){var e=o[p],n=arguments;if(e){var t=i,r=void 0;return e.forEach(function(e){if(e.flap===t||"all"===e.flap){var o=e.callback.apply(null,n);o===!1&&(r=!1)}}),r}},l),function(){o[p]=o[p].filter(function(e){return e.id!==d})}}}var o={},i="all",a=0,u={bind:r(e.bind,"bind"),bindGlobal:r(e.bindGlobal,"bindGlobal"),unbind:function(n,t){if(!n||0===n.length)throw new Error("unbind must be called with keys");n=n instanceof Array?n:[n],t||(t="all");var r=n.join(",");if(o[r]){var i=o[r]=o[r].filter(function(e){return e.flap!==t});0===i.length&&e.unbind(n)}},useFlap:function(e){i=e?e:"all"},trigger:function(){e.trigger.apply(e,arguments)},reset:function(){o={},e.reset()}};return Object.defineProperty(u,"stopCallback",{set:function(n){e.stopCallback=n}}),u},this)}();